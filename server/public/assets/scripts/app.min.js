/*! angular_material_test 2016-07-13 */
var app=angular.module("StarterApp",["ngMaterial","ngMessages"]);app.config(["$mdThemingProvider",function(a){a.theme("default").primaryPalette("blue-grey").accentPalette("grey")}]),app.controller("AppCtrl",["$scope","$mdDialog","$http",function(a,b,c){a.user={},a.users=[],a.submitUser=function(b){c.post("/challenge/add",b).then(a.findUser())},a.findUser=function(){c.get("/challenge/all").then(function(b){a.users=b.data,console.log(a.users),d(a.users)})};var d=function(a){for(var b=0;b<a.length;b++){var d=a[b].github;c.get("https://api.github.com/users/"+d+"/repos?sort=updated").success(function(a){e(a)})}},e=function(b){githubPersonName=b[0].owner.login;for(var c=0;c<a.users.length;c++)if(githubPersonName===a.users[c].github){for(var d=moment().subtract(1,"days").format("L"),e=moment().format("L"),f=0;f<b.length;f++){var g=moment(b[f].pushed_at).format("L");d==g&&(a.users[c].yesterday=!0),e==g&&(a.users[c].today=!0)}a.users[c].imageUrl=b[0].owner.avatar_url,a.users[c].link="http://www.github.com/"+githubPersonName}};a.findUser()}]);