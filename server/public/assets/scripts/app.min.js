/*! angular_material_test 2016-07-14 */
var app=angular.module("StarterApp",[]);app.controller("AppCtrl",["$scope","$http",function(a,b){a.user={},a.users=[],a.submitUser=function(c){b.post("/challenge/add",c).then(a.findUser())},a.findUser=function(){b.get("/challenge/all").then(function(b){a.users=b.data,console.log(a.users),c(a.users)})};var c=function(a){for(var c=0;c<a.length;c++){var e=a[c].github;b.get("https://api.github.com/users/"+e+"/repos?sort=updated").success(function(a){d(a)})}},d=function(b){githubPersonName=b[0].owner.login;for(var c=0;c<a.users.length;c++)if(githubPersonName===a.users[c].github){for(var d=moment().subtract(1,"days").format("L"),e=moment().format("L"),f=0;f<b.length;f++){var g=moment(b[f].created_at).format("L"),h=moment(b[f].updated_at).format("L"),i=moment(b[f].pushed_at).format("L");console.log(githubPersonName,b[f]),d!=g&&d!=h&&d!=i||(a.users[c].yesterday=!0),e!=g&&e!=h&&e!=i||(a.users[c].today=!0)}a.users[c].imageUrl=b[0].owner.avatar_url,a.users[c].link="http://www.github.com/"+githubPersonName}};a.findUser()}]);